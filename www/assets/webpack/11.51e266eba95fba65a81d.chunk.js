(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./src/Skynar/EntitySelect.tsx":
/*!*************************************!*\
  !*** ./src/Skynar/EntitySelect.tsx ***!
  \*************************************/
/*! exports provided: default */function(e,t,s){"use strict";s.r(t);var n=s(/*! tslib */"./node_modules/tslib/tslib.es6.js"),i=s(/*! react */"react"),o=s(/*! react-virtualized-select */"./node_modules/react-virtualized-select/dist/commonjs/index.js"),a=s.n(o),r=(s(/*! react-select/dist/react-select.css */"./node_modules/react-select/dist/react-select.css"),s(/*! react-virtualized/styles.css */"./node_modules/react-virtualized/styles.css"),s(/*! react-virtualized-select/styles.css */"./node_modules/react-virtualized-select/styles.css"),function(e){function t(t){var s=e.call(this,t)||this;s.loadOptions=s.loadOptions.bind(s);var n=t.multiple?t.value instanceof Array?t.value:[]:"string"==typeof t.value||"number"==typeof t.value?t.value:"";return s.state={value:n},s}return n.__extends(t,e),t.prototype.loadOptions=function(e,t){return fetch(this.props.url+".mjson?count="+(this.props.count||100)+"&q="+e,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return{options:e.items,complete:e.total<=e.count}})},t.prototype.onSelect=function(e){var t=null!=e?Array.isArray(e)?e.map(function(e){return e.eid}):e.eid:"";this.setState({value:t}),"function"==typeof this.props.onChange&&this.props.onChange(t)},t.prototype.none=function(){},t.prototype.renderOption=function(e){var t=e.focusedOption,s=e.focusOption,o=e.key,a=(e.labelKey,e.option),r=e.selectValue,l=e.style,u=e.valueArray,c=["es_option"];a===t&&c.push("es_focus"),a.disabled&&c.push("es_disabled"),u&&u.indexOf(a)>=0&&c.push("es_selected"),a.className&&c.push(a.className);var p=a.disabled?{}:{onClick:function(){return r(a)},onMouseEnter:function(){return s(a)}},d=!1;return"string"==typeof a.image&&(d=a.image,c.push("es_has_img"),"/"==a.image.substr(0,1)&&"/"!=a.image.substr(1,1)&&(d="/img/thumb.64"+a.image)),i.createElement("div",n.__assign({className:c.join(" "),key:o,style:l,title:a.title},p),i.createElement("div",{className:"es_wrap"},d&&i.createElement("img",{src:d,className:"es_img",key:"img"}),i.createElement("div",{className:"es_title",key:"ttl"},a.title),i.createElement("div",{className:"es_description",key:"dsc"},a.description)))},t.prototype.render=function(){var e=this.state.value instanceof Array?JSON.stringify(this.state.value):this.state.value;return i.createElement("div",{className:"sri-node"},i.createElement(a.a,{async:!0,loadOptions:this.loadOptions,onChange:this.onSelect.bind(this),labelKey:"title",valueKey:"eid",value:this.state.value,multi:this.props.multiple,optionRenderer:this.renderOption,optionHeight:function(e){var t=e.option;return"string"==typeof t.description||"string"==typeof t.image?64:35},palceholder:this.props.placeholder}),i.createElement("input",{type:"hidden",key:"input",name:this.props.name,onChange:this.none,value:e}))},t.defaultProps={multiple:!1,value:""},t}(i.Component));t.default=r}}]);