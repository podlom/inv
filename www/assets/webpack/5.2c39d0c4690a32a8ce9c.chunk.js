(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./src/Mail/MailingAdd.tsx":function(t,e,n){"use strict";n.r(e);var a=n("./node_modules/tslib/tslib.es6.js"),i=n("react"),o=function(t){function e(e){var n=t.call(this,e)||this;return n.state={text:"",disabled:!1},n.onText=n.onText.bind(n),n.onNew=n.onNew.bind(n),n}return a.b(e,t),e.prototype.render=function(){return i.createElement("div",{className:"mailing_add"},i.createElement("input",{type:"text",required:!0,onChange:this.onText,value:this.state.text,placeholder:"Enter name"}),i.createElement("button",{onClick:this.onNew,disabled:this.state.text.length<3},"create mailing"))},e.prototype.onText=function(t){this.setState({text:t.target.value})},e.prototype.onNew=function(){var t=this;this.state.text.replace(/\s/g,"").length>=3&&fetch(this.props.basepath+"/add.json",{credentials:"include",method:"POST",body:"entity[name]="+encodeURIComponent(this.state.text),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(e){t.setState({disabled:!1}),location.href=t.props.basepath+"/"+e.entity.id}).catch(function(e){t.setState({disabled:!1})})},e}(i.Component);e.default=o}}]);