(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./src/Skynar/Contenteditable.tsx":
/*!****************************************!*\
  !*** ./src/Skynar/Contenteditable.tsx ***!
  \****************************************/
/*! exports provided: default */function(e,n,t){"use strict";t.r(n);var r=t(/*! tslib */"./node_modules/tslib/tslib.es6.js"),o=t(/*! react */"react"),s=t(/*! fast-deep-equal */"./node_modules/fast-deep-equal/index.js"),i=t.n(s),l=t(/*! prop-types */"./node_modules/prop-types/index.js");function a(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function p(e){var n=function e(n){if(n.nodeType===Node.TEXT_NODE)return n;for(var t=n.childNodes,r=t.length-1;r>=0;r--){var o=e(t[r]);if(null!==o)return o}return null}(e),t=document.activeElement===n;if(null!==n&&null!==n.nodeValue&&t){var r=document.createRange(),o=window.getSelection();r.setStart(n,n.nodeValue.length),r.collapse(!0),o.removeAllRanges(),o.addRange(r),e instanceof HTMLElement&&e.focus()}}var u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.lastHtml=n.props.html,n.el="function"==typeof n.props.innerRef?{current:null}:o.createRef(),n.getEl=function(){return(n.props.innerRef&&"function"!=typeof n.props.innerRef?n.props.innerRef:n.el).current},n.emitChange=function(e){var t=n.getEl();if(t){var r=t.innerHTML;if(n.props.onChange&&r!==n.lastHtml){var o=Object.assign({},e,{target:{element:t,value:r,text:t.textContent||t.innerText||""}});n.props.onChange(o)}n.lastHtml=r}},n}return r.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.tagName,s=n.html,i=n.innerRef,l=r.__rest(n,["tagName","html","innerRef"]);return o.createElement(t||"div",r.__assign({},l,{ref:"function"==typeof i?function(n){i(n),e.el.current=n}:i||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:s}}),this.props.children)},n.prototype.shouldComponentUpdate=function(e){var n=this.props,t=this.getEl();return!t||(a(e.html)!==a(t.innerHTML)||(n.disabled!==e.disabled||n.tagName!==e.tagName||n.className!==e.className||n.innerRef!==e.innerRef||!i()(n.style,e.style)))},n.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),p(e))},n.propTypes={html:l.string.isRequired,onChange:l.func,onBlur:l.func,disabled:l.bool,tagName:l.string,className:l.string,style:l.object,innerRef:l.oneOfType([l.object,l.func])},n}(o.Component);n.default=u}}]);