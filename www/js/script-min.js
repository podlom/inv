function getFilledSubscriptionForm(){return[...$(".subscription__form")].find((e=>{const t=$(e).find('input[name="subscribe[firstname]"]')?.[0]?.value,n=$(e).find('input[name="subscribe[email]"]')?.[0]?.value;return t&&n}))}function submitDigest(e){console.log("+4 submitDigest() token: ",e);const t=getFilledSubscriptionForm();let n=$(t),o={},i=$(t).serializeArray();if($(i).each((function(e,t){if(o[t.name]=t.value,"email"==t.name&&0==t.value.length)return console.log("+13 error: email can`t be empty"),!1})),o["g-recaptcha-response"]||(o["g-recaptcha-response"]=e),console.log("+18 formData: ",o),$("#phone2").length&&$("#error-msg2").length&&!$("#error-msg2").hasClass("hide"))return console.log("+21 prevent wrong phone inputmask value submit"),void $("#phone2").focus();$.post("/email-subscribe.php",o).done((e=>{console.log("+27 got data: ",e),e.status?(n.trigger("reset"),$(".my_popup").removeClass("opened"),$(".dark_bg").removeClass("opened"),$("html").removeClass("page-locked"),"ru"==document.documentElement.lang?Swal.fire({title:"Спасибо!",text:"Теперь вы подписаны на нашу рассылку",type:"success",confirmButtonText:"Закрыть"}):Swal.fire({title:"Thank you!",text:"You have successfully subscribed",type:"success",confirmButtonText:"Close"})):"ru"==document.documentElement.lang?Swal.fire({title:"Что-то пошло не так...",text:e.errors.join(", "),type:"error",confirmButtonText:"Попробовать еще раз"}):Swal.fire({title:"Something went wrong!",text:"You have not been subscribed",type:"error",confirmButtonText:"Try again"})}))}$(document).ready((function(){console.log("+71 $(document).ready()"),$("form.subscribe").length?(console.log("+75 found form.subscribe"),$("form.subscribe").hasClass("subscription__form")||(console.log("+77 fixed form.subscribe classes"),$("form.subscribe").addClass("subscription__form"))):console.log("+81 form.subscribe was not found."),$(".subscription__form").submit((function(e){if(console.log("+85 .subscription__form.submit()"),e.preventDefault(),$("#phone2").length&&$("#error-msg2").length&&!$("#error-msg2").hasClass("hide"))return console.log("+88 prevent wrong phone inputmask value submit"),$("#phone2").focus(),!1;var t=$(this),n=$(this).serializeArray(),o={};$(n).each((function(e,t){if(o[t.name]=t.value,"email"==t.name&&(console.log("+101 email value: ",t.value),0==t.value.length))return console.log("+103 error: email can`t be empty"),!1})),$.post("/email-subscribe.php",o).done((e=>{console.log("+110 got data: ",e),e.status?(t.trigger("reset"),$(".my_popup").removeClass("opened"),$(".dark_bg").removeClass("opened"),$("html").removeClass("page-locked"),"ru"==document.documentElement.lang?Swal.fire({title:"Спасибо!",text:"Теперь вы подписаны на нашу рассылку",type:"success",confirmButtonText:"Закрыть"}):Swal.fire({title:"Thank you!",text:"You have successfully subscribed",type:"success",confirmButtonText:"Close"})):"ru"==document.documentElement.lang?Swal.fire({title:"Что-то пошло не так...",text:e.errors.join(", "),type:"error",confirmButtonText:"Попробовать еще раз"}):Swal.fire({title:"Something went wrong!",text:"You have not been subscribed",type:"error",confirmButtonText:"Try again"})}))})),$(".instrumentQuestionMain, .instrumentQuestion").click((function(){var e=$(this).attr("data-expert-id");$("#questionForm form").find("input:first[type=hidden]").attr("value",e)})),$("#search-block .pointer").click((function(){$(".large-3.columns.search-block").toggle("slow")})),$(".main_nav>li").hoverIntent((function(e){return $(".main_nav>li ul.active").not($(this)).removeClass("active"),$(".main_nav>li ul.active").not($(this)).toggle("fast"),$(this).children("ul").addClass("active"),$(".main_nav>li ul.active").toggle("600"),e.preventDefault(),!1})),$(".js-news_slider").owlCarousel({items:4,pagination:!1,navigation:!0,navigationText:["",""],lazyLoad:!0}),$(".js-gallery").owlCarousel({items:4,pagination:!1,navigation:!0,navigationText:["",""],lazyLoad:!0}),$(".subMenuButton").click((function(){menu=$(this).parent().parent().find(".Nav").toggleClass("open"),menu.is(".open")?(menu.show(),menu.animate({opacity:1},400)):menu.animate({opacity:0},400,(function(){menu.hide()}))})),$(".linkShow").click((function(){$(".contactSotrudniki").slideToggle()})),$(".search-block .btn-right-dropdown").click((function(){$(".search-block .btn-right-dropdown").not($(this)).parent().children(".search-block .sub-right-dropdown.active").removeClass("active").toggle("slow"),$(this).parent().children(".search-block .sub-right-dropdown").toggle("slow").toggleClass("active ")})),$(".search-block .sub-right-dropdown ul li").click((function(){var e=$(this).clone().text();$(this).parent().parent().parent().children(".search-block .btn-right-dropdown").html(e),$(".search-block .sub-right-dropdown.active").hide(),$(".search-block .sub-right-dropdown.active").removeClass("active")})),$((function(){$(".vote-block:first .acc-content").addClass("active"),$(".acc-content").not(".active").hide(),$(".acc-caption").click((function(){$(".acc-content").not($(this).next(".acc-content")).removeClass("active").slideUp(600),$(this).next(".acc-content").addClass("active").slideDown(600)}))})),$("#archiveFormYear, #archiveFormMonths").change((function(e){link=$("#digest a.y"+$("#archiveFormYear").val()+".m"+$("#archiveFormMonths").val()),0==link.length?$("#archiveFormButton").attr("disabled",!0).attr("href","#"):$("#archiveFormButton").attr("disabled",!1).attr("href",link.attr("href"))})).change(),$("#archiveFormButton").click((function(e){$(this).attr("disabled")&&e.preventDefault()})),$(".label-click").click((function(){$(this).parent().parent().find(".tged").slideToggle()})),$("form[name='inventure-form'] .label-click").click((function(){$(this).parent().parent().children(".tged").slideToggle()})),$(".show_res").click((function(){$(this).parent().find(".answer").hasClass("margin-answer")?$(this).parent().find(".answer").removeClass("margin-answer"):$(this).parent().find(".answer").addClass("margin-answer"),$(this).parent().toggleClass("result"),$(this).parent().find("input").toggle("slow"),$(this).parent().find(".is-pool-block").toggle("slow")})),$(".viewbox-cnt-body table").wrap('<div class="table-responsive">')}));